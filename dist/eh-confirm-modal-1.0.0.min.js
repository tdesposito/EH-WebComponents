// This file is part of EH-WebComponents, Copyright (C) Todd D. Esposito 2021.
// Distributed under the MIT License (see https://opensource.org/licenses/MIT).
class EhConfirmModal extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.renderComponent();const t=this.shadowRoot.querySelector(".confirm"),o=this.shadowRoot.querySelector(".cancel");t.addEventListener("click",(t=>{if(this.dispatchEvent(new CustomEvent("confirm")),this.removeAttribute("visible"),this.getAttribute("onConfirm")){let t;try{t=Function(this.getAttribute("onConfirm"))}catch(t){return}t&&t()}})),o.addEventListener("click",(t=>{this.dispatchEvent(new CustomEvent("cancel")),this.removeAttribute("visible")}))}get visible(){return this.hasAttribute("visible")}set visible(t){t?this.setAttribute("visible",""):this.removeAttribute("visible")}static get observedAttributes(){return["visible"]}attributeChangedCallback(t,o,r){this.shadowRoot&&"visible"===t&&this.shadowRoot.querySelector(".wrapper")&&(null===r?this.shadowRoot.querySelector(".wrapper").classList.remove("visible"):this.shadowRoot.querySelector(".wrapper").classList.add("visible"))}renderComponent(){const t=this.visible?"visible":"",o=this.title?this.title:"Are You Sure?",r=document.createElement("div");r.innerHTML=`<style>.wrapper{background-color:var(--screen-background-color,gray);height:100%;left:0;opacity:0;position:fixed;top:0;visibility:hidden;width:100%;z-index:1}.visible{opacity:var(--screen-opacity,97%);visibility:visible;transition:visibility 0s linear 0s,opacity var(--transition-duration,.25s) 0s}.modal{background-color:rgba(var(--modal-background-color,254 254 254) / 1);border-radius:var(--modal-border-radius,10px);border:var(--modal-border,1px solid #888);box-shadow:0 4px 8px 0 rgba(0 0 0 / 20%),0 6px 20px 0 rgba(0 0 0 / 19%);left:var(--modal-left,15%);min-width:var(--modal-width,70%);width:var(--modal-width,70%);padding:var(--modal-padding,12px);position:relative;text-align:var(--modal-text-align,center);top:var(--modal-top,20%);z-index:10}.title{background:var(--title-background,#5678e5);border-radius:var(--title-border-radius,6px);border:var(--title-border,1px solid #1499f0);color:var(--title-color,#fff);font-size:var(--title-font-size,1.5rem);padding:var(--title-padding,2px 16px)}.content{margin:var(--content-margin,20px 2px);padding:var(--content-padding,2px 16px)}.button-container{text-align:center}button{border-radius:var(--button-border-radius,6px);border:var(--button-border,1px solid #47a347);color:rgba(var(--button-color-rgb,255 255 255) / 1);cursor:pointer;font-size:var(--button-font-size,1.1rem);line-height:var(--button-line-height,16px);margin:var(--button-margin,6px);min-width:var(--button-min-width,10rem);padding:var(--button-padding,17px 34px);transition:opacity var(--button-transition-duration,var(--transition-duration,.25s)) 0s}button.confirm{background-color:rgba(var(--button_confirm-background-color-rgb,27 149 9) / 95%)}button.cancel{background-color:rgba(var(--button_cancel-background-color-rgb,86 120 229 / 95%))}button:hover{transform:scale3d(var(--button-transform-scale3d,1.05,1.05,1))}button.confirm:hover{background-color:rgba(var(--button_confirm-background-color-rgb,27 149 9) / 100%);box-shadow:inset 0 3px 12px rgba(var(--button_yes-background-color-rgb,27 149 9) / 20%)}button.cancel:hover{background-color:rgba(var(--button_cancel-background-color-rgb,86 120 229 / 100%))}</style><div class="wrapper ${t}"><div class="modal"><div class="title">${o}</div><div class="content"><slot>Are You Sure?</slot></div><div class="button-container"><button class="confirm">Yes</button> <button class="cancel">No - Cancel</button></div></div></div>`,this.shadowRoot.appendChild(r)}show(){this.setAttribute("visible","")}hide(){this.removeAttribute("visible")}}window.customElements.define("eh-confirm-modal",EhConfirmModal);const EHShowConfirmModal=t=>{document.querySelector(t||"eh-confirm-modal").show()};